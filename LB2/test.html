<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interaktiver Test: Brettspiel-Mechaniken</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        .quiz-container, .start-screen, .results-screen, #badge-section {
            display: none; /* Initially hide all sections */
        }
        .answer-option {
            transition: background-color 0.3s, border-color 0.3s, transform 0.2s;
        }
        .answer-option:hover {
            background-color: #f0fdfa; /* teal-50 */
            border-color: #2dd4bf; /* teal-400 */
            transform: translateY(-2px);
        }
        .correct {
            background-color: #dcfce7 !important; /* green-100 */
            border-color: #22c55e !important; /* green-500 */
        }
        .incorrect {
            background-color: #fee2e2 !important; /* red-100 */
            border-color: #ef4444 !important; /* red-500 */
        }
        .disabled {
            pointer-events: none;
            opacity: 0.8;
        }
        
        /* Badge Styles */
        #badge {
            background: linear-gradient(135deg, #047857, #0d9488);
            border: 8px solid #facc15;
            box-shadow: 0 0 20px rgba(0,0,0,0.3), inset 0 0 15px rgba(255,255,255,0.2);
        }
        #badge-seal {
            background-color: #facc15;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.4);
        }
        #badge-seal::before {
            content: '';
            position: absolute;
            top: -5px; left: -5px; right: -5px; bottom: -5px;
            border: 2px dashed #ca8a04;
            border-radius: 50%;
        }

        /* Print Styles */
        @media print {
            body * {
                visibility: hidden;
            }
            #badge-section, #badge-section * {
                visibility: visible;
            }
            #badge-section {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                display: flex !important;
                align-items: center;
                justify-content: center;
            }
            #badge {
                transform: scale(1.2);
                 -webkit-print-color-adjust: exact;
                color-adjust: exact;
            }
        }
    </style>
</head>
<body class="bg-slate-100 flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-3xl mx-auto bg-white rounded-xl shadow-2xl p-6 sm:p-10 text-slate-800">

        <!-- Start Screen -->
        <div id="start-screen" class="text-center" style="display: block;">
            <h1 class="text-3xl font-bold text-slate-800 mb-2">Test: Brettspiel-Mechaniken</h1>
            <p class="text-slate-500 mb-6">Teste dein Wissen über die Bausteine von Brettspielen!</p>
            
            <div class="text-left mb-6 space-y-4">
                <div>
                    <label for="studentName" class="block text-sm font-medium text-slate-700 mb-1">Dein Name:</label>
                    <input type="text" id="studentName" class="w-full p-2 border border-slate-300 rounded-md focus:ring-teal-500 focus:border-teal-500" placeholder="Max Mustermann">
                </div>
                <div>
                    <label for="studentClass" class="block text-sm font-medium text-slate-700 mb-1">Deine Klasse:</label>
                    <input type="text" id="studentClass" class="w-full p-2 border border-slate-300 rounded-md focus:ring-teal-500 focus:border-teal-500" placeholder="z.B. 10a">
                </div>
                <div id="start-error" class="text-red-600 text-sm hidden">Bitte gib deinen Namen ein, um den Test zu starten.</div>
            </div>

            <div class="bg-teal-50 border-l-4 border-teal-500 text-teal-800 p-4 rounded-r-lg mb-8 text-left">
                <p>Es werden dir <strong>15 zufällige Fragen</strong> aus einem größeren Pool gestellt.</p>
                <p>Um zu bestehen, musst du mindestens <strong>80% (12 von 15)</strong> der Fragen richtig beantworten.</p>
            </div>
            <button id="start-btn" class="w-full bg-teal-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-700 transition-transform transform hover:scale-105">Test starten</button>
        </div>

        <!-- Quiz Container -->
        <div id="quiz-container" class="quiz-container">
            <div class="mb-6">
                <div class="flex justify-between items-center mb-2">
                    <p class="text-sm font-semibold text-slate-500">Frage <span id="question-number"></span> von 15</p>
                    <p class="text-sm font-semibold text-slate-500">Score: <span id="score">0</span></p>
                </div>
                <div class="w-full bg-slate-200 rounded-full h-2.5">
                    <div id="progress-bar" class="bg-teal-600 h-2.5 rounded-full" style="width: 0%"></div>
                </div>
            </div>
            <h2 id="question" class="text-2xl font-bold mb-6">Frage wird geladen...</h2>
            <div id="answer-options" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Answer options will be inserted here -->
            </div>
             <div id="feedback-container" class="mt-4 p-4 rounded-lg text-center hidden"></div>
             <button id="next-btn" class="hidden mt-6 w-full bg-teal-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-700 transition-transform transform hover:scale-105">Weiter</button>
        </div>

        <!-- Results Screen -->
        <div id="results-screen" class="results-screen text-center">
            <h2 id="result-title" class="text-3xl font-bold mb-4">Ergebnis</h2>
            <p id="result-text" class="text-lg text-slate-600 mb-6">Du hast <span id="final-score"></span> von 15 Fragen richtig beantwortet.</p>
            <div id="result-feedback" class="p-4 rounded-lg mb-8"></div>
            <button id="retry-btn" class="w-full bg-teal-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-700 transition-transform transform hover:scale-105">Erneut versuchen</button>
        </div>
        
        <!-- Badge Section (hidden by default) -->
        <div id="badge-section" class="text-center">
             <div id="badge" class="w-full max-w-lg mx-auto p-8 text-white rounded-2xl relative overflow-hidden">
                <div class="absolute top-0 left-0 w-full h-full bg-black opacity-10"></div>
                <div class="relative z-10">
                    <h2 class="text-xl font-bold uppercase tracking-widest text-yellow-300">Zertifikat</h2>
                    <p class="text-lg mt-2">verliehen an</p>
                    <div id="badge-name-display" class="w-4/5 bg-transparent border-b-2 border-yellow-300 text-3xl font-serif text-center text-yellow-200 my-4 mx-auto py-2"></div>
                    <p class="text-lg">für das erfolgreiche Bestehen des Tests</p>
                    <h3 class="text-2xl font-bold text-yellow-300 mt-2 mb-6">"Brettspiel-Mechaniken"</h3>
                    <div id="badge-seal" class="w-24 h-24 rounded-full mx-auto flex items-center justify-center relative">
                        <svg class="w-16 h-16 text-yellow-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path></svg>
                    </div>
                </div>
            </div>
            <button id="print-badge-btn" class="mt-8 w-full sm:w-auto bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-transform transform hover:scale-105">Abzeichen drucken / speichern</button>
        </div>


    </div>

    <script>
        const allQuestions = [
             // Merkmale von Spielen
            { question: "Ein Spiel wird als 'leicht zu lernen, aber schwer zu meistern' beschrieben. Welche Aussage über seine Merkmale ist am treffendsten?", answerOptions: [ { text: "Es hat eine niedrige Komplexität und geringe strategische Tiefe.", correct: false, rationale: "Leicht zu lernen deutet zwar auf niedrige Einstiegshürden hin, 'schwer zu meistern' widerspricht aber einer geringen strategischen Tiefe." }, { text: "Die Zielgruppe sind ausschließlich Experten.", correct: false, rationale: "'Leicht zu lernen' macht es auch für Gelegenheitsspieler attraktiv, nicht nur für Experten." }, { text: "Es hat eine niedrige Regel-Komplexität, aber eine hohe strategische Tiefe.", correct: true }, { text: "Die Spielidee ist kompliziert, aber die Regeln sind einfach.", correct: false, rationale: "Normalerweise ist es umgekehrt: Die Spielidee ist oft einfach, aber die strategischen Möglichkeiten, die aus den Regeln erwachsen, sind komplex." } ] },
            { question: "Wodurch unterscheidet sich die 'Spielidee' fundamental von der 'Spielmechanik'?", answerOptions: [ { text: "Die Spielidee ist für erfahrene Spieler, die Mechanik für Anfänger.", correct: false, rationale: "Beide Konzepte gelten für alle Spieler, unabhängig von ihrer Erfahrung." }, { text: "Die Spielidee beschreibt das 'Was' und 'Warum' (das Thema), die Mechanik das 'Wie' (die Regeln).", correct: true }, { text: "Die Spielidee ist in der Anleitung, die Mechanik nicht.", correct: false, rationale: "Beides wird in einer guten Spielanleitung erklärt, oft ist die Mechanik sogar der Hauptteil." }, { text: "Die Spielidee ist immer kompetitiv, die Mechanik immer kooperativ.", correct: false, rationale: "Beide können sowohl kompetitiv als auch kooperativ sein." } ] },
            { question: "Ein Spiel hat eine Altersangabe von '14+'. Was lässt sich daraus am ehesten über seine Merkmale ableiten?", answerOptions: [ { text: "Das Spiel ist garantiert nicht für Erwachsene geeignet.", correct: false, rationale: "Eine Altersangabe ist eine Untergrenze, keine Obergrenze." }, { text: "Das Spiel hat wahrscheinlich eine hohe thematische oder regeltechnische Komplexität.", correct: true }, { text: "Die Spieldauer beträgt immer über zwei Stunden.", correct: false, rationale: "Eine hohe Altersgrenze korreliert oft, aber nicht zwingend mit langer Spieldauer." }, { text: "Die Zielgruppe sind ausschließlich männliche Jugendliche.", correct: false, rationale: "Eine Altersangabe ist geschlechtsneutral und bezieht sich auf die kognitive oder emotionale Reife." } ] },
            { question: "Wenn ein Spiel sowohl bei Kindern als auch bei deren Großeltern gut ankommt, welche Zielgruppen-Beschreibung trifft am besten zu?", answerOptions: [ { text: "Gateway Game (Einstiegsspiel)", correct: false, rationale: "Ein Gateway Game führt an komplexere Spiele heran, muss aber nicht zwingend generationenübergreifend sein." }, { text: "Familienspiel", correct: true }, { text: "Expertenspiel", correct: false, rationale: "Ein Expertenspiel schließt durch seine Komplexität oft Kinder oder Gelegenheitsspieler aus." }, { text: "Kinderspiel", correct: false, rationale: "Ein reines Kinderspiel wäre für Großeltern oft zu simpel." } ] },

            // Spieltypische Elemente
            { question: "Was ist der Hauptunterschied zwischen einer 'Mission' und einem 'Erfolg' (Achievement)?", answerOptions: [ { text: "Missionen geben Minuspunkte, Erfolge geben Pluspunkte.", correct: false, rationale: "Beides kann Belohnungen nach sich ziehen. Der Unterschied liegt in der Art der Aufgabe." }, { text: "Missionen sind für den Spielverlauf notwendig, Erfolge sind oft optionale Zusatzziele.", correct: true }, { text: "Missionen gibt es nur in kooperativen Spielen, Erfolge nur in kompetitiven.", correct: false, rationale: "Beide Elemente können in beiden Spielarten vorkommen." }, { text: "Missionen werden geheim gehalten, Erfolge sind immer öffentlich.", correct: false, rationale: "Beides kann geheim oder öffentlich sein." } ] },
            { question: "Ein Spieler erhält am Ende seines Zuges zwei Goldmünzen als 'Einkommen'. Wofür ist dies ein Beispiel?", answerOptions: [ { text: "Einem Level-Up", correct: false, rationale: "Ein Level-Up ist eine dauerhafte Verbesserung, nicht eine regelmäßige Ausschüttung." }, { text: "Einer automatischen Belohnung", correct: true }, { text: "Direktem Feedback", correct: false, rationale: "Direktes Feedback wäre die unmittelbare Reaktion auf eine Aktion. Einkommen am Ende des Zuges ist eine passive, regelbasierte Belohnung." }, { text: "Einer Mission", correct: false, rationale: "Eine Mission wäre eine spezifische Aufgabe, nicht das generelle Rundenende." } ] },
            { question: "Eine Siegpunktleiste, die um das Spielbrett herumläuft, ist welches spieltypische Element?", answerOptions: [ { text: "Eine Mission", correct: false, rationale: "Die Leiste visualisiert den Fortschritt, sie ist keine Aufgabe." }, { text: "Ein Levelsystem", correct: false, rationale: "Ein Levelsystem hätte feste Stufen (z.B. Level 1, 2, 3), eine Siegpunktleiste ist kontinuierlich." }, { text: "Ein visuelles Feedback-System und eine Rangliste.", correct: true }, { text: "Ein Abzeichen", correct: false, rationale: "Ein Abzeichen ist eine einmalige Auszeichnung, keine fortlaufende Anzeige." } ] },
            { question: "Welches Element gibt dem Spieler die klarste und unmittelbarste Rückmeldung über den Erfolg oder Misserfolg einer einzelnen Aktion?", answerOptions: [ { text: "Die Endwertung", correct: false, rationale: "Die Endwertung ist das späteste Feedback, nicht das unmittelbarste." }, { text: "Ein Level-Up", correct: false, rationale: "Ein Level-Up ist das Ergebnis vieler Aktionen, nicht einer einzelnen." }, { text: "Direktes Feedback (z.B. 'Du erhältst 2 Holz' oder 'Dein Angriff verfehlt').", correct: true }, { text: "Eine Rangliste", correct: false, rationale: "Eine Rangliste zeigt den Gesamtstand, nicht das Ergebnis einer spezifischen Aktion." } ] },
            { question: "Bei 'Siedler von Catan' erhält der Spieler mit der längsten zusammenhängenden Straße eine Sonderkarte. Dies ist ein...", answerOptions: [ { text: "Level-Up", correct: false, rationale: "Es gibt keine weiteren Stufen wie 'noch längere Handelsstraße'. Es ist eine einmalige Auszeichnung." }, { text: "dynamischer Erfolg/Abzeichen.", correct: true }, { text: "Zufallsereignis.", correct: false, rationale: "Der Bau einer Handelsstraße ist eine bewusste strategische Entscheidung, kein Zufall." }, { text: "Spielmechanik.", correct: false, rationale: "Die Mechanik ist der Straßenbau. Die Sonderkarte ist das Element, das diesen belohnt." } ] },
            { question: "In einem Spiel gibt es eine Liste von optionalen Zielen wie 'Gewinne ein Spiel ohne Holz zu produzieren' oder 'Baue alle 15 Straßen'. Das Erreichen dieser Ziele schaltet Trophäen frei. Diese Liste ist ein...", answerOptions: [ { text: "Levelsystem", correct: false, rationale: "Ein Levelsystem ist ein linearer Fortschritt. Diese Ziele sind oft unabhängig voneinander." }, { text: "Erfolgs-System (Achievement System).", correct: true }, { text: "Tutorial.", correct: false, rationale: "Ein Tutorial erklärt die Grundlagen, während Erfolge das Meistern des Spiels belohnen." }, { text: "Missions-Deck.", correct: false, rationale: "Ein Missions-Deck enthält Kernaufgaben. Diese Ziele sind optional und eine zusätzliche Herausforderung." } ] },
            { question: "Ein Spieler erhält 5 Punkte für das Erfüllen einer Aufgabe. Diese Punkte sind...", answerOptions: [ { text: "die Spielmechanik.", correct: false, rationale: "Die Mechanik ist die Regel, die besagt, dass man für die Aufgabe Punkte bekommt." }, { text: "das Feedback.", correct: false, rationale: "Das Erhalten der Punkte ist positives Feedback, aber die Punkte selbst sind die Belohnung." }, { text: "die Belohnung und ein messbarer Fortschritt.", correct: true }, { text: "die Mission.", correct: false, rationale: "Die Aufgabe war die Mission, die Punkte sind die Belohnung dafür." } ] },
            { question: "Wodurch unterscheidet sich ein Levelsystem von einer Rangliste?", answerOptions: [ { text: "Ein Levelsystem misst den Fortschritt, eine Rangliste den Vergleich.", correct: true }, { text: "Ein Levelsystem ist immer geheim, eine Rangliste immer öffentlich.", correct: false, rationale: "Beides kann sowohl geheim als auch öffentlich sein." }, { text: "Ein Levelsystem hat feste Stufen, eine Rangliste nicht.", correct: false, rationale: "Eine Rangliste kann auch feste Ligen (Bronze, Silber) haben, die wie Levelstufen wirken." }, { text: "Es gibt keinen Unterschied.", correct: false, rationale: "Obwohl sie oft zusammen auftreten, messen sie unterschiedliche Dinge: individuellen Fortschritt vs. Vergleich mit anderen." } ] },

            // Spielmechaniken
            { question: "Ein Spiel kombiniert zwei Mechaniken: Man zieht Plättchen (A) und legt sie an eine Landschaft an. Gleichzeitig muss man Sets von verschiedenfarbigen Würfeln sammeln (B). Wie lauten die beiden korrekten Fachbegriffe?", answerOptions: [ { text: "A: Deckbuilding, B: Worker-Placement", correct: false, rationale: "Deckbuilding bezieht sich auf Karten, nicht Plättchen, und Worker-Placement auf das Einsetzen von Figuren." }, { text: "A: Tile-Placement, B: Set-Collection", correct: true }, { text: "A: Set-Collection, B: Tile-Placement", correct: false, rationale: "Die Begriffe sind vertauscht. Das Legen von Plättchen (Tiles) ist Tile-Placement." }, { text: "A: Route Building, B: Engine Building", correct: false, rationale: "Bei A werden keine Routen gebaut und bei B werden keine Produktionsketten ('Engines') aufgebaut." } ] },
            { question: "Was ist der entscheidende Unterschied zwischen 'Deckbuilding' (z.B. Dominion) und 'Tableau Building' (z.B. Flügelschlag)?", answerOptions: [ { text: "Bei Deckbuilding benutzt man Karten, bei Tableau Building Figuren.", correct: false, rationale: "Bei beiden Mechaniken werden typischerweise Karten verwendet." }, { text: "Deckbuilding ist kompetitiv, Tableau Building ist kooperativ.", correct: false, rationale: "Beide Mechaniken können in kompetitiven oder kooperativen Spielen vorkommen." }, { text: "Beim Deckbuilding zirkuliert der Kartenstapel, beim Tableau Building bleiben die Karten permanent liegen.", correct: true }, { text: "Es gibt keinen Unterschied, die Begriffe sind austauschbar.", correct: false, rationale: "Es handelt sich um zwei klar voneinander abgegrenzte Kernmechaniken." } ] },
            { question: "Ein Spieler hat pro Zug 3 Aktionspunkte. Eine Bewegung kostet 1 Punkt, ein Angriff 2 Punkte. Er kann seine 3 Punkte frei kombinieren. Welche Mechanik liegt diesem System zugrunde?", answerOptions: [ { text: "Worker-Placement", correct: false, rationale: "Bei Worker-Placement blockiert man Aktionsfelder. Hier hat man ein persönliches Budget an Aktionen." }, { text: "Variable Player Powers", correct: false, rationale: "Das beschreibt unterschiedliche Fähigkeiten der Charaktere, nicht das allgemeine Aktionssystem." }, { text: "Action Point Allowance", correct: true }, { text: "Engine Building", correct: false, rationale: "Engine Building beschreibt den Aufbau einer 'Produktionsmaschine', nicht die Ausführung von Aktionen." } ] },
            { question: "Ein Spiel, bei dem ein Spieler als Geist gegen ein Team von Ermittlern spielt, ist ein Beispiel für...", answerOptions: [ { text: "ein rein kooperatives Spiel.", correct: false, rationale: "Es ist nicht rein kooperativ, da der Geist gegen das Team spielt." }, { text: "ein symmetrisches Spiel.", correct: false, rationale: "Die beiden Seiten haben völlig unterschiedliche Fähigkeiten und Ziele, daher ist es asymmetrisch." }, { text: "ein asymmetrisches 'Einer-gegen-Alle'-Spiel.", correct: true }, { text: "ein Legacy-Spiel.", correct: false, rationale: "Ein Legacy-Spiel verändert sich dauerhaft, was hier nicht der Fall sein muss." } ] },
            { question: "Wenn man in einem Spiel durch das geschickte Ausspielen von Karten eine 'Produktionskette' aufbaut, die in späteren Runden immer mehr Ressourcen oder Punkte generiert, nennt man das...", answerOptions: [ { text: "Deckbuilding.", correct: false, rationale: "Deckbuilding ist die Verbesserung des Decks. Der Aufbau einer Produktionskette ist eine spezifischere Mechanik." }, { text: "Engine Building.", correct: true }, { text: "Set-Collection.", correct: false, rationale: "Bei Set-Collection sammelt man statische Sets, bei Engine Building baut man eine dynamische 'Maschine'." }, { text: "Route Building.", correct: false, rationale: "Route Building bezieht sich auf das Bauen von Wegen auf einem Spielplan." } ] },
            { question: "Wodurch zeichnet sich die Mechanik 'Push Your Luck' aus?", answerOptions: [ { text: "Durch das Platzieren von Arbeitern auf Aktionsfeldern.", correct: false, rationale: "Das ist die Definition von Worker-Placement." }, { text: "Durch die bewusste Entscheidung, ein Risiko für eine höhere Belohnung einzugehen oder sich mit weniger zufriedenzugeben.", correct: true }, { text: "Durch das Sammeln von Karten-Sets.", correct: false, rationale: "Das ist die Definition von Set-Collection." }, { text: "Durch das Bauen von Strecken zwischen Städten.", correct: false, rationale: "Das ist die Definition von Route Building." } ] },
            { question: "Die Mechanik, bei der Spieler abwechselnd und reihum eine Karte aus einer offenen, gemeinsamen Auslage wählen, nennt man...", answerOptions: [ { text: "Auktion (Bidding)", correct: false, rationale: "Bei einer Auktion wird um die Karten geboten, nicht einfach nur ausgewählt." }, { text: "Handel (Trading)", correct: false, rationale: "Handel findet zwischen Spielern statt, nicht mit einer neutralen Auslage." }, { text: "Drafting", correct: true }, { text: "Worker-Placement", correct: false, rationale: "Beim Worker-Placement werden Figuren auf Felder gesetzt, keine Karten aus einer Auslage genommen." } ] },
            { question: "Wodurch unterscheidet sich 'Area Control' von 'Route Building'?", answerOptions: [ { text: "Area Control nutzt Würfel, Route Building nutzt Karten.", correct: false, rationale: "Beide Mechaniken können Würfel oder Karten verwenden." }, { text: "Bei Area Control geht es um die Kontrolle von Flächen, bei Route Building um die Verbindung von Punkten.", correct: true }, { text: "Area Control ist immer kompetitiv, Route Building immer kooperativ.", correct: false, rationale: "Beide Mechaniken können in beiden Spielmodi vorkommen." }, { text: "Area Control ist eine moderne, Route Building eine veraltete Mechanik.", correct: false, rationale: "Beide Mechaniken sind etabliert und werden in modernen Spielen verwendet." } ] },

            // Spielerlebnis
            { question: "Nach einer Stunde Spielzeit stellt sich heraus, dass ein Spieler eine Regel von Anfang an falsch verstanden hat und deshalb uneinholbar hinten liegt. Welches Spielerlebnis ist für ihn am wahrscheinlichsten?", answerOptions: [ { text: "Flow", correct: false, rationale: "Flow ist ein Zustand des völligen Aufgehens im Spiel, was durch so einen Fehler zerstört wird." }, { text: "Glück", correct: false, rationale: "Das hat nichts mit Glück zu tun, sondern mit einem Fehler, der das Spiel unfair gemacht hat." }, { text: "Frustration", correct: true }, { text: "Spannung", correct: false, rationale: "Die Spannung ist vorbei, wenn klar ist, dass man nicht mehr gewinnen kann." } ] },
            { question: "In einem kooperativen Spiel opfert ein Spieler seine eigene Figur, damit die Gruppe die Runde gewinnt. Welches Spielerlebnis könnte dies bei den Mitspielern auslösen?", answerOptions: [ { text: "Schadenfreude", correct: false, rationale: "Schadenfreude wäre das Gefühl, wenn ein Gegner Pech hat, nicht wenn ein Teammitglied sich opfert." }, { text: "Dankbarkeit und Empathie", correct: true }, { text: "Langeweile", correct: false, rationale: "Ein solch dramatischer Moment ist in der Regel nicht langweilig." }, { text: "Ärger", correct: false, rationale: "Ärger wäre unangebracht, da die Aktion dem Team zum Sieg verholfen hat." } ] },
            { question: "Zwei Spieler sind punktgleich, und der Sieg hängt vom Ergebnis eines einzigen Würfelwurfs ab. Welches Spielerlebnis ist in diesem Moment am intensivsten?", answerOptions: [ { text: "Spannung", correct: true }, { text: "Resilienz", correct: false, rationale: "Resilienz wird erst nach dem Wurf benötigt, falls man verliert." }, { text: "Strategie", correct: false, rationale: "Die strategischen Entscheidungen sind getroffen, jetzt entscheidet nur noch der Zufall." }, { text: "Kommunikation", correct: false, rationale: "In diesem Moment wird meist nicht mehr geredet, sondern gebannt auf den Würfel geschaut." } ] },
            { question: "Ein Spiel ist so perfekt ausbalanciert, dass es bis zum Schluss unklar ist, wer gewinnt. Dies fördert vor allem das Gefühl von...", answerOptions: [ { text: "Sicherheit.", correct: false, rationale: "Im Gegenteil, die Unsicherheit über den Ausgang macht es spannend." }, { text: "Frustration.", correct: false, rationale: "Frustration entsteht eher bei unausgeglichenen Spielen." }, { text: "Spannung.", correct: true }, { text: "Monotonie.", correct: false, rationale: "Ein ausgeglichenes Spiel ist in der Regel das Gegenteil von monoton." } ] },
            { question: "Ein Mitspieler ist neu in der Gruppe und versteht eine Regel nicht. Du nimmst dir Zeit, es ihm nochmal in Ruhe zu erklären, damit er auch Spaß hat. Welches soziale Gefühl zeigst du?", answerOptions: [ { text: "Spannung", correct: false, rationale: "Spannung bezieht sich auf das Spielgeschehen, nicht auf den Umgang mit Mitspielern." }, { text: "Empathie.", correct: true }, { text: "Frustration.", correct: false, rationale: "Frustration würdest du vielleicht empfinden, wenn er die Regel zum fünften Mal nicht versteht, aber nicht beim Helfen." }, { text: "Glück.", correct: false, rationale: "Glück bezieht sich auf zufällige positive Ereignisse." } ] },
            { question: "Ein Spiel ist so fesselnd, dass du die Zeit um dich herum vergisst und vollkommen in der Spielwelt aufgehst. Diesen Zustand nennt man...", answerOptions: [ { text: "Frustration.", correct: false, rationale: "Frustration ist ein negatives Gefühl, das dich eher aus dem Spiel reißt." }, { text: "Immersion oder Flow.", correct: true }, { text: "Resilienz.", correct: false, rationale: "Resilienz ist die Fähigkeit, mit Rückschlägen umzugehen, nicht der Zustand des Vertieft-Seins." }, { text: "Analyse-Paralyse.", correct: false, rationale: "Das ist das Gegenteil: Wenn man so lange über einen Zug nachdenkt, dass das Spiel stockt." } ] },
            
            // Persönliche & Soziale Entwicklung
            { question: "Ein Spieler, der in einem Strategiespiel nicht nur seinen eigenen Zug plant, sondern auch die möglichen Gegenzüge der anderen Spieler antizipiert, trainiert vor allem seine Fähigkeit zu...", answerOptions: [ { text: "kreativem Ausdruck.", correct: false, rationale: "Kreativität kann ein Teil der Strategie sein, aber das Antizipieren von Gegenzügen ist eine analytische Fähigkeit." }, { text: "vorausschauendem und strategischem Denken.", correct: true }, { text: "schneller Reaktion.", correct: false, rationale: "Das Gegenteil ist der Fall. Hier geht es um sorgfältige Planung, nicht um schnelle Reflexe." }, { text: "empathischem Handeln.", correct: false, rationale: "Man versetzt sich zwar in den Gegner hinein, aber das Ziel ist kompetitiv, nicht empathisch." } ] },
            { question: "Wenn ein Spielplan bei jedem Spiel neu und zufällig aufgebaut wird, welche Fähigkeit wird bei den Spielern besonders gefordert?", answerOptions: [ { text: "Auswendiglernen von Zügen.", correct: false, rationale: "Ein variabler Spielplan macht das Auswendiglernen von Zügen unmöglich." }, { text: "Anpassungsfähigkeit und Problemlösung.", correct: true }, { text: "Kommunikation.", correct: false, rationale: "Kommunikation kann wichtig sein, aber die primäre Herausforderung ist die Anpassung an die neue Situation." }, { text: "Resilienz.", correct: false, rationale: "Resilienz ist der Umgang mit Rückschlägen, nicht die Anpassung an neue Startbedingungen." } ] },
            { question: "In 'Die Crew' ist die Kommunikation stark eingeschränkt. Die Spieler müssen aus den wenigen erlaubten Hinweisen die Absichten ihrer Mitspieler ableiten. Dies schult vor allem...", answerOptions: [ { text: "die Fähigkeit, andere zu dominieren.", correct: false, rationale: "Das Spiel ist kooperativ und bestraft dominantes Verhalten." }, { text: "logisches Schlussfolgern und Teamarbeit.", correct: true }, { text: "die Frustrationstoleranz.", correct: false, rationale: "Frustration kann entstehen, aber das Ziel ist es, durch kluges Denken erfolgreich zu sein." }, { text: "das strategische Lügen.", correct: false, rationale: "Lügen würde das Team sofort zum Scheitern bringen." } ] },
            { question: "Ein komplexes kooperatives Spiel kann nur gewonnen werden, wenn jeder Spieler seine einzigartigen Fähigkeiten perfekt einsetzt und sich mit den anderen abspricht. Was wird hier gefördert?", answerOptions: [ { text: "Individualismus.", correct: false, rationale: "Das Gegenteil ist der Fall, die Gruppe steht über dem Einzelnen." }, { text: "Kommunikation und Teamarbeit.", correct: true }, { text: "Wettbewerb.", correct: false, rationale: "In einem kooperativen Spiel gibt es keinen Wettbewerb zwischen den Spielern." }, { text: "Glück.", correct: false, rationale: "Komplexe kooperative Spiele zielen darauf ab, den Glücksfaktor durch Planung zu minimieren." } ] },
            { question: "Ein Spieler verliert knapp, aber anstatt sich zu ärgern, analysiert er mit dem Gewinner den entscheidenden Zug und gratuliert ihm fair. Was demonstriert er damit?", answerOptions: [ { text: "Mangelnden Ehrgeiz.", correct: false, rationale: "Man kann ehrgeizig sein und trotzdem ein guter Verlierer." }, { text: "Soziale Kompetenz und Wertebildung (Fair Play).", correct: true }, { text: "Strategisches Denken.", correct: false, rationale: "Die Analyse ist zwar strategisch, aber das Verhalten an sich zeigt soziale Reife." }, { text: "Resilienz.", correct: false, rationale: "Resilienz wäre der Umgang mit dem Verlieren an sich. Das faire Gratulieren geht darüber hinaus." } ] },
            { question: "Ein Spiel hat asymmetrische Fraktionen mit völlig unterschiedlichen Siegbedingungen. Um zu gewinnen, muss man nicht nur die eigenen Stärken, sondern auch die Schwächen und Ziele der Gegner genau verstehen. Dies fördert die Fähigkeit zur...", answerOptions: [ { text: "Kreativität.", correct: false, rationale: "Kreativität kann helfen, aber das Verstehen der Gegner ist eine analytische Fähigkeit." }, { text: "Perspektivübernahme.", correct: true }, { text: "Kommunikation.", correct: false, rationale: "Man muss nicht zwingend mit den Gegnern reden, um ihre Ziele zu verstehen." }, { text: "Teamarbeit.", correct: false, rationale: "In einem kompetitiven Spiel arbeitet man nicht mit den Gegnern zusammen." } ] },
            { question: "Was ist der Hauptgrund, warum kooperative Spiele die soziale Entwicklung fördern?", answerOptions: [ { text: "Weil sie immer einfacher sind als kompetitive Spiele.", correct: false, rationale: "Viele kooperative Spiele sind extrem schwierig und komplex." }, { text: "Weil sie die Spieler zwingen, gemeinsame Ziele zu definieren und ihre Handlungen zu koordinieren.", correct: true }, { text: "Weil es keinen Gewinner oder Verlierer gibt.", correct: false, rationale: "Es gibt einen klaren Gewinner (das Team) oder Verlierer (das Team)." }, { text: "Weil sie keinen Glücksfaktor haben.", correct: false, rationale: "Viele kooperative Spiele haben einen hohen Glücksfaktor, den das Team gemeinsam bewältigen muss." } ] },
            { question: "Ein Spiel hat sehr komplexe Regeln. Eine Spielerin, die das Spiel gut kennt, erklärt es den Neulingen geduldig und gibt ihnen in den ersten Runden Tipps. Dieses Verhalten fördert...", answerOptions: [ { text: "einen schnellen Sieg für die erfahrene Spielerin.", correct: false, rationale: "Im Gegenteil, durch die Hilfe macht sie sich die Gegner stärker." }, { text: "ein positives und inklusives Gruppenerlebnis.", correct: true }, { text: "Misstrauen in der Gruppe.", correct: false, rationale: "Hilfsbereitschaft fördert Vertrauen, nicht Misstrauen." }, { text: "die Spieldauer unnötig in die Länge.", correct: false, rationale: "Eine gute Erklärung verkürzt oft die Gesamtspieldauer, da weniger Regelfragen aufkommen." } ] }
        ];

        let questions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let studentName = '';

        const startScreen = document.getElementById('start-screen');
        const quizContainer = document.getElementById('quiz-container');
        const resultsScreen = document.getElementById('results-screen');
        const badgeSection = document.getElementById('badge-section');
        const startBtn = document.getElementById('start-btn');
        const retryBtn = document.getElementById('retry-btn');
        const printBadgeBtn = document.getElementById('print-badge-btn');
        const feedbackContainer = document.getElementById('feedback-container');
        const nextBtn = document.getElementById('next-btn');
        const startError = document.getElementById('start-error');

        startBtn.addEventListener('click', startQuiz);
        retryBtn.addEventListener('click', () => {
            // When retrying, go back to start screen to re-enter name
            resultsScreen.style.display = 'none';
            startScreen.style.display = 'block';
        });
        printBadgeBtn.addEventListener('click', () => window.print());
        nextBtn.addEventListener('click', () => {
             currentQuestionIndex++;
             showQuestion();
        });

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function startQuiz() {
            const nameInput = document.getElementById('studentName');
            studentName = nameInput.value.trim();

            if (studentName === '') {
                startError.classList.remove('hidden');
                return;
            }
            startError.classList.add('hidden');

            shuffleArray(allQuestions);
            questions = allQuestions.slice(0, 15);
            currentQuestionIndex = 0;
            score = 0;
            
            startScreen.style.display = 'none';
            resultsScreen.style.display = 'none';
            badgeSection.style.display = 'none';
            quizContainer.style.display = 'block';
            
            updateScoreDisplay();
            showQuestion();
        }

        function showQuestion() {
            if (currentQuestionIndex >= questions.length) {
                showResults();
                return;
            }
            
            nextBtn.classList.add('hidden');
            feedbackContainer.classList.add('hidden');

            const questionData = questions[currentQuestionIndex];
            document.getElementById('question').textContent = questionData.question;
            document.getElementById('question-number').textContent = currentQuestionIndex + 1;
            
            const progressBar = document.getElementById('progress-bar');
            progressBar.style.width = `${((currentQuestionIndex) / questions.length) * 100}%`;

            const answerOptionsContainer = document.getElementById('answer-options');
            answerOptionsContainer.innerHTML = '';
            answerOptionsContainer.classList.remove('disabled');

            
            questionData.answerOptions.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option.text;
                button.classList.add('answer-option', 'w-full', 'p-4', 'border-2', 'rounded-lg', 'text-left', 'font-semibold');
                button.onclick = () => selectAnswer(button, option);
                answerOptionsContainer.appendChild(button);
            });
        }

        function selectAnswer(button, option) {
            document.getElementById('answer-options').classList.add('disabled');
            
            if (option.correct) {
                score++;
                button.classList.add('correct');
                updateScoreDisplay();
                // If correct, move to next question after a short delay
                 setTimeout(() => {
                    currentQuestionIndex++;
                    showQuestion();
                }, 1200);

            } else {
                button.classList.add('incorrect');
                feedbackContainer.textContent = option.rationale;
                feedbackContainer.className = 'mt-4 p-4 rounded-lg text-center bg-red-100 text-red-800 font-semibold';
                feedbackContainer.classList.remove('hidden');
                nextBtn.classList.remove('hidden'); // Show next button only on incorrect answer
            }

            const progressBar = document.getElementById('progress-bar');
            progressBar.style.width = `${((currentQuestionIndex + 1) / questions.length) * 100}%`;
        }
        
        function updateScoreDisplay() {
            document.getElementById('score').textContent = score;
        }

        function showResults() {
            quizContainer.style.display = 'none';
            document.getElementById('final-score').textContent = score;
            const percentage = Math.round((score / questions.length) * 100);
            const passed = percentage >= 80;

            const resultFeedback = document.getElementById('result-feedback');
            const resultTitle = document.getElementById('result-title');
            
            if (passed) {
                resultTitle.textContent = "Herzlichen Glückwunsch!";
                resultFeedback.className = 'p-4 rounded-lg mb-8 bg-green-100 text-green-800 border-l-4 border-green-500';
                resultFeedback.innerHTML = `<p class="font-bold">Test bestanden!</p><p>Du hast ${percentage}% der Fragen richtig beantwortet. Super gemacht!</p>`;
                resultsScreen.style.display = 'none';
                badgeSection.style.display = 'block';
                document.getElementById('badge-name-display').textContent = studentName;

            } else {
                resultTitle.textContent = "Leider nicht bestanden";
                resultFeedback.className = 'p-4 rounded-lg mb-8 bg-red-100 text-red-800 border-l-4 border-red-500';
                resultFeedback.innerHTML = `<p class="font-bold">Versuch es noch einmal!</p><p>Du hast ${percentage}% erreicht. Zum Bestehen sind 80% (12 richtige Antworten) notwendig. Du schaffst das!</p>`;
                resultsScreen.style.display = 'block';
                retryBtn.style.display = 'block';
            }
        }
    </script>

</body>
</html>


